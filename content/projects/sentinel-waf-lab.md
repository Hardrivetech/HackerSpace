# Sentinel WAF Lab

<p><span class="badge">#waf</span> <span class="badge">#docker</span> <span class="badge">#modsecurity</span></p>

Reproducible environment for authoring, testing, and benchmarking WAF rules.

## Overview

Sentinel WAF Lab packages ModSecurity and OWASP CRS with replayable traffic and reporting to help tune rules, measure false positives/negatives, and iterate quickly.

## Features

- ModSecurity + OWASP CRS preconfigured behind NGINX
- Traffic replayer for HTTP archives/PCAP exports
- Rule hot reload with diff and impact analysis
- Metrics and reports (blocked vs. allowed, anomaly scores)

## Stack

- Docker Compose (NGINX + ModSecurity, reporter)
- Python (traffic replayer, reporting)
- Optional Grafana dashboards

## Getting Started

```bash
# 1) Clone (or create) a lab workspace
# Replace with your repo when available, or use a local folder
# git clone https://github.com/YOUR_ORG/sentinel-waf-lab.git
mkdir sentinel-waf-lab && cd sentinel-waf-lab

# 2) Start the stack (compose file included or generated by template)
docker compose up -d

# 3) Apply sample rules and replay corpus
./waflab rules apply ./rules/example.conf
./waflab replay ./samples/payloads.json --report out/report.html
```

## Usage

```bash
# Start the lab
docker compose -f waf-lab.compose.yml up -d

# Apply a custom rule set
waflab rules apply ./rules/custom.conf

# Replay a request corpus and collect a report
waflab replay ./samples/payloads.json --report out/report.html
```

## Status

Beta â€” stable core; reports and dashboards evolving.

## Roadmap

- Additional engines (HAProxy, Traefik) and CRS versions
- FP/FN labeling workflow with quick triage UI
- Baseline profiles for common app stacks
- CI integration for rule regressions

## Notes

Use only with synthetic or permitted traffic. Do not deploy to production as-is.
